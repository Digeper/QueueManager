# StorageClass for Azure File Shares
# Used to provision PersistentVolumes from existing Azure File Shares
# NOTE: StorageClass is a cluster-scoped resource (no namespace field)
# If this StorageClass already exists with different parameters, you may need to delete it first:
# kubectl delete storageclass azurefile-csi
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: azurefile-csi
  labels:
    app.kubernetes.io/part-of: muzika-platform
provisioner: file.csi.azure.com
allowVolumeExpansion: true
parameters:
  skuName: Premium_LRS
  # Storage account name - must match the secret
  storageAccount: digeper
  # Secret name and namespace
  secretName: azure-storage-secret
  secretNamespace: muzika
  # For existing shares, we specify shareName in PVC
reclaimPolicy: Retain
volumeBindingMode: Immediate
